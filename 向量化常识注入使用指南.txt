# 向量化常识注入 - 智能自动分段使用指南

## 这是什么？

想象一下，你有一本智能字典，不仅能记住你告诉它的所有信息，还能在你需要的时候自动找到相关内容。

向量化常识注入就是这样一个系统 - 它让AI角色变得更聪明，能够记住并运用你设定的世界观、规则和背景知识。

## 工作原理（用大白话解释）

### 1. 存储阶段 - "教AI知识"
你输入：金鸢尾兰是个科技发达的和平国家。他们军事力量薄弱。但民用科技很先进。
↓
智能分段：自动分成3个独立知识点
↓  
系统：把每句话转换成"数字指纹"（向量）
↓  
存储：保存到智能数据库中

### 2. 检索阶段 - "AI想起相关知识"
玩家问：你的国家怎么样？
↓
系统：分析问题，找出关键词"国家"
↓
智能搜索：在数据库中找到相关的"金鸢尾兰"信息
↓
AI回答：基于找到的知识生成回答

## 智能自动分段功能

### 分段策略（按优先级自动选择）

#### 1. 按句号分段 ? 最常用
适用于：有标点符号的长文本（大部分情况）

示例输入：
金鸢尾兰是个和平国家。他们的科技很发达。军事力量相对薄弱。

自动分段结果：
- 第1段：金鸢尾兰是个和平国家
- 第2段：他们的科技很发达  
- 第3段：军事力量相对薄弱

#### 2. 按换行分段
适用于：每行一个要点的文本

示例输入：
这是魔法世界
科技与魔法并存  
龙族统治天空
人类居住地面

自动分段结果：
- 第1段：这是魔法世界
- 第2段：科技与魔法并存
- 第3段：龙族统治天空  
- 第4段：人类居住地面

#### 3. 固定长度分段 ?? 兜底方案
适用于：没有标点的超长文本

示例输入：
金鸢尾兰国是一个位于边缘星系的鼠族国家他们在长期的和平发展中积累了先进的民用科技但由于缺乏战争经验军事科技相对落后最近加入了星际联盟的人道主义救援行动

自动分段结果：
- 第1段：金鸢尾兰国是一个位于边缘星系的鼠族国家他们在长期的和平发展中积累了先进的民用科技但由于缺乏战争经验军事科技相对落后最近加入了星际联盟的
- 第2段：人道主义救援行动

## 实际操作步骤

### Step 1: 开启功能
- 游戏设置 → RimTalk-Expand Memory
- 启用"向量数据库"选项

### Step 2: 添加知识（任意格式）
- 点击"打开常识库管理"
- 点击"注入向量库"按钮
- 直接粘贴任何文本，无需手动格式化：

示例A（有标点）：
这是一个魔法与科技并存的世界。金鸢尾兰国是和平的鼠族国家。他们的民用科技很发达。军事技术相对落后。

示例B（无标点）：
这是一个魔法与科技并存的世界金鸢尾兰国是和平的鼠族国家他们的民用科技很发达军事技术相对落后

示例C（换行分隔）：
魔法世界设定
金鸢尾兰和平国家
民用科技发达
军事相对落后

### Step 3: 系统自动处理
? 智能检测文本格式
? 自动选择最佳分段方式  
? 转换成AI能理解的"数字语言"
? 存储到数据库等待使用

## 游戏中的效果

### 没有向量化注入：
玩家：你从哪里来？
AI：我不太清楚...

### 有向量化注入：
玩家：你从哪里来？  
AI：我来自金鸢尾兰国！那里是个科技发达的和平国家，
    我们鼠族在那里生活得很好。虽然军事不强，
    但民用科技很先进哦！

## 为什么这么神奇？

### 传统方式：
- AI只能基于通用知识回答
- 答案千篇一律，缺乏个性

### 向量化方式：  
- 语义理解：AI能理解"意思相近"的问题
- 智能匹配：自动找到最相关的背景知识
- 个性回答：基于你的设定生成独特回答
- 懒人友好：粘贴任何文本，系统自动处理

## 技术细节（简化版）

1. 智能分段：根据标点、换行自动切分文本
2. 文本向量化：把每段文字转换成数字数组
3. 语义相似度：计算问题和知识的相关性  
4. 智能注入：把相关知识悄悄告诉AI
5. 生成回答：AI基于注入的知识回复

## 使用建议

### ? 推荐输入方式：
- 有标点的完整句子（最佳效果）
- 换行分隔的要点列表
- 段落式的长文本
- 复制粘贴的任意文本

### ? 适合添加的内容：
- 世界观设定
- 角色背景故事
- 特殊规则说明
- 历史事件描述

### ? 不适合的内容：  
- 过于复杂的技术文档
- 频繁变化的实时信息
- 与游戏完全无关的内容

## 分段效果对比

### 手动格式化（传统方式）：
需要用户手动添加：
[世界观|0.9]这是魔法世界
[设定|0.8]金鸢尾兰是鼠族国家
[科技|0.7]民用科技发达

### 自动分段（新功能）：
直接粘贴：
这是魔法世界。金鸢尾兰是鼠族国家。民用科技发达。

系统自动处理为3个知识点 ?

## 总结

向量化常识注入就像给AI装了一个专门的记忆芯片，而智能自动分段就像配了个贴心助理：

- ?? 你负责：粘贴任何文本内容  
- ?? 系统负责：智能分段、向量化、存储
- ?? AI负责：记住并在合适时候运用知识
- ?? 结果：对话变得更智能更有趣！

简单来说：你随便粘贴文本 → 系统智能处理 → AI变聪明 → 对话更精彩！ ?

--------------------------------------------------
RimTalk-Expand Memory v3.3.2.1
作者：SANGUO
GitHub：https://github.com/sanguodxj-byte/RimTalk-ExpandMemory