[33mb3eacb5[m[33m ([m[1;36mHEAD[m[33m -> [m[1;32mmain[m[33m, [m[1;31morigin/main[m[33m, [m[1;31morigin/HEAD[m[33m)[m refactor: 更新Assembly名称为RimTalkExpandMemory【重大更改】- ✅ Assembly名称: RimTalkMemoryPatch → RimTalkExpandMemory- ✅ DLL文件: RimTalkMemoryPatch.dll → RimTalkExpandMemory.dll- ✅ 修复MainTabDefs.xml引用错误【修改文件】- RimTalk-ExpandMemory.csproj: AssemblyName更新- Defs/MainTabDefs.xml: tabWindowClass Assembly引用更新- 1.6/Assemblies/: 重命名DLL文件【保持不变】- RootNamespace: RimTalk.MemoryPatch (避免破坏现有代码)- ModFolderName: RimTalk-ExpandMemory【注意事项】- 需要关闭RimWorld并删除旧DLL文件- 外部Mod API完全兼容（命名空间未变）- 版本: v3.3.16
[33mdf9dd6d[m fix: 移除预览器Pawn选择菜单emoji，改用文字标识【修改】- ✅ 移除emoji图标（🏠🔒👤⚔️）- ✅ 使用文字标识：[殖民者]、[囚犯]、[访客]、[敌人]- ✅ 保持清晰的分类和空白分隔【效果】[殖民者] Alice (人类)[殖民者] Bob (人类) [囚犯] Prisoner1 (人类) [访客] Guest1 (人类) [敌人] Raider1 (人类)【原因】- 避免emoji显示兼容性问题- 保持简洁清晰的界面风格
[33m559bc36[m docs: 更新About.xml v3.3.16 - 外部Mod集成API
[33m5a41d17[m feat: 预览器支持非殖民者 + 外部Mod集成API【预览器增强】- ✅ 支持所有Pawn类型选择（殖民者、囚犯、访客、敌人）- ✅ 自动清理已删除或不在地图的Pawn- ✅ 分类显示Pawn列表（带图标标识）- ✅ Pawn选择安全检查（自动fallback到第一个殖民者）【外部Mod集成API】- ✅ ImportFromExternalMod() - 批量导入常识- ✅ AddKnowledgeEntry() - 添加单条常识  - ✅ RemoveKnowledgeBySource() - 清理指定来源常识- ✅ 支持注释（// 和 # 开头）- ✅ 支持格式：[标签|重要性]内容- ✅ 自动标记来源Mod（来自:ModName, 自动导入）【文档】- 📖 EXPAND_ACTIONS_INTEGRATION_GUIDE.md（完整集成指南）- 📖 SMART_INJECTION_PAWN_SUPPORT.md（Pawn支持文档）- 📖 Copilot提示词模板（快速开始）【兼容性】- ⚠️ 修复 CommonKnowledgeEntry 没有 AddTag 方法（改为字符串追加）- ⚠️ 修复 tags 属性访问（改用 GetTags() 方法）- ⚠️ 修复 Mathf 命名空间问题（改用 Math）
[33m81d19c6[m fix: 只记录玩家原始输入，不包含注入的记忆和常识问题:- 之前记录的是完整的Prompt，包含所有注入的记忆、常识、格式指令等- 导致ELS记忆内容过长且包含冗余信息解决方案:- 三级提取策略获取原始用户输入  1. 优先: UserPrompt 属性（如果存在）  2. 备选: OriginalPrompt 属性（如果存在）  3. 兜底: 从完整Prompt中智能提取提取方法:- 查找'用户:'/'User:'等标记- 提取标记后到下一个标记之前的内容- 如果找不到标记，提取最后一行非系统指令文本调试支持:- DevMode下输出详细的提取过程日志- 帮助诊断提取是否正确
